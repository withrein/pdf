const AIOnlyExtractor = require('./services/aiOnlyExtractor');

const mongolianExamMarkdown = `## Даалгаварт хэрэглэгдэх зарим томьёо 1. $(p, q)$ цэгт оройтой параболын тэгшитгэл: $y=a(x-p)^{2}+q$ 2. Конусын эзлэхүүн: $V=\frac{1}{3} \pi R^{2} h$ 3. Математик дундаж: $X$ дискрет санамсаргүй хувьсагчийн магадлалын тархалтын хүснэгт нь | $x$ | $x_{1}$ | $x_{2}$ | $\ldots$ | $x_{n}$ | | :---: | :---: | :---: | :---: | :---: | | $P(X=x)$ | $p_{1}$ | $p_{2}$ | $\ldots$ | $p_{n}$ | бол математик дундаж $E(X)=x_{1} \cdot p_{1}+x_{2} \cdot p_{2}+\cdots+x_{n} \cdot p_{n}$ байна. $p_{1}+p_{2}+\cdots+p_{n}=1$, дисперс нь $\operatorname{Var}(X)=\sum x^{2} P(X=x)-(E(X))^{2}$ байна. 4. Хоёр векторын скаляр үржвэр: $\vec{a} \cdot \vec{b}=|\vec{a}||\vec{b}| \cos \alpha$ Шаардлагатай бол координатын хавтгайг ашиглаарай. ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-1.jpg?height=1546&width=1703&top_left_y=999&top_left_x=182) Эрхэм шалгуулагч танд амжилт хүсье! ## Нэгдүгээр хэсэг. СОНГОХ ДААЛГАВАР Санамж: Нэгдүгээр хэсгийн 36 сонгох даалгавар нь нийт 72 оноотой. Даалгавар тус бүр 5 сонгох хариулттай. Тэдгээрийн зөвхөн нэг зөв хариултыг сонгож, хариултын хуудсанд будаж тэмдэглээрэй. Зураг бодит хэмжээгээр өгөгдөөгүй гэдгийг санаарай. ## Бодлого 1-8 тус бүр 1 оноотой. 1. $\sqrt[5]{\sqrt{25^{5}}}$ илэрхийллийн утгыг олоорой. A. $\sqrt{5}$ B. 5 C. 25 D. $\sqrt[5]{5}$ E. $\frac{1}{5}$ 2. $\sin 1140^{\circ}$ илэрхийллийн утгыг олоорой. A. $\frac{\sqrt{3}}{2}$ B. $\frac{1}{2}$ C. 0 D. $-\frac{1}{2}$ E. 1 3. $\left\{\sqrt{5}, \pi, 1 .(12), 0, \sqrt[7]{3}, \frac{12}{7}, \sqrt{25}\right\}$ олонлог өгөгдөв. Энэ олонлогийн бүх элемент нь иррационал тоо байх дэд олонлог аль нь вэ? A. $\{\pi, \sqrt[7]{3}, \sqrt{5}, \sqrt{25}\}$ B. $\left\{1 .(12), \frac{12}{7}\right\}$ C. $\left\{\sqrt{5}, \pi, \frac{12}{7}\right\}$ D. $\{\sqrt{5}, \pi, \sqrt[7]{3}\}$ E. $\left\{\sqrt{5}, \pi, \sqrt[7]{3}, \frac{12}{7}, 1\right.$ (12) \} 4. $\int \cos 2 x d x$ интегралыг бодоорой. A. $\sin 2 x+C$ B. $\frac{1}{2} \sin 2 x+C$ C. $2 \sin 2 x+C$ D. $-\sin 2 x+C$ E. $-\frac{1}{2} \sin 2 x+C$ 5. $|5 x-3|<7$ тэнцэтгэл бишийн шийд $a<x<b$ бол $a+b$ нийлбэрийн утгыг ол. A. $2 \frac{3}{5}$ B. $1 \frac{1}{5}$ C. $-\frac{1}{5}$ D. $-2 \frac{4}{5}$ E. $-1 \frac{2}{5}$ 6. $2,3,1,4,5,12,3,10,9,8$ өгөдлийн дээд квартилыг олоорой. A. 11 B. 9.5 C. 10 D. 8 Е. 9 7. $Y$ дискрет санамсаргүй хувьсагчийн магадлалын тархалтыг $P(Y=y)=k(2+y), y \in\{0,1,2,3\}$ томьёогоор өгөв. $P(Y=2)$ - ыг олоорой. A. $\frac{3}{14}$ B. $\frac{1}{14}$ C. $\frac{2}{7}$ D. $\frac{1}{7}$ E. $\frac{5}{14}$ 8. $\frac{x-1}{1}=\frac{y+1}{1}=\frac{z-1}{2}$ шулуун $O x z$ хавтгайтай огтлолцох цэгийн координатыг олоорой. A. $(2,0,3)$ B. $(2,3,0)$ C. $(3,0,2)$ D. $(0,0,-1)$ E. $(-1,0,-2)$ ## Бодлого 9-28 тус бүр 2 оноотой. 9. $\left(2.3 \times 10^{7}\right)+\left(5.9 \times 10^{5}\right)$ нийлбэрийн утгыг олж хариултаа стандарт хэлбэрт бичсэн хариуг сонгоорой. A. $8.2 \times 10^{3}$ В. $0.2359 \times 10^{8}$ С. $2.359 \times 10^{3}$ D. $2.359 \times 10^{7}$ E. $2.89 \times 10^{6}$ 10. $\frac{x^{2}+5 x}{x^{2}-9 x+14} \times \frac{x-2}{x}+\frac{x}{7-x}$ илэрхийллийг хялбарчлаарай. A. $\frac{5}{7-x}$ B. $\frac{5}{x-7}$ C. $\frac{2 x+5}{x-7}$ D. $\frac{2 x-5}{7-x}$ E. $\frac{x+5}{x-7}$ 11. $\frac{d y}{d x}=\frac{x}{y+2}$ дифференциал тэгшитгэлийг бодоорой. A. $(y+2)^{2}=x^{2}+C$ B. $y^{2}+2=x^{2}+C$ C. $\frac{y^{2}}{2}+2=\frac{x^{2}}{2}+C$ D. $\frac{y^{2}}{2}+2 y=\frac{x^{2}}{2}$ E. $\frac{(y+2)^{2}}{2}=\frac{x^{2}}{2}$ 12. $i$ комплекс тооны хувьд $i^{2025}-(-i)^{2022}$ илэрхийллийг хялбарчлаарай. A. $i-1$ B. $2 i$ C. $-2 i$ D. $i+1$ E. -2 13. $y=a x+b$ функцийн графикийг зурагт үзүүлэв. Тэгвэл дараах графикуудаас аль нь $y=a x^{2}+b x$ функцийн график байх боломжтой вэ? A. ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-3.jpg?height=357&width=321&top_left_y=1125&top_left_x=256) D. B. ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-3.jpg?height=355&width=318&top_left_y=1125&top_left_x=599) E. C. ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-3.jpg?height=355&width=324&top_left_y=1125&top_left_x=936) ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-3.jpg?height=358&width=326&top_left_y=1519&top_left_x=328) ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-3.jpg?height=358&width=323&top_left_y=1519&top_left_x=845) 14. $y=x-\ln (x-3)$ функцийн өсөх завсрыг олоорой. A. $]-\infty ; 3[\cup] 4 ;+\infty[$ В. $]-\infty ; 3[\cup] 3 ;+\infty[$ C. $] 3 ;+\infty[$ D. ]3; 4[ E. $] 4 ;+\infty[$ 15. $A=\{x \mid 0<x \leq 100, x \in Z\}$ ба $B=\{9-$ т хуваахад 2 үлдэгдэл өгдөг натурал тоонууд\} олонлогууд өгөгдсөн бол $A \cap B$ олонлог хэдэн элементтэй вэ? A. 10 B. 11 C. 12 D. 13 E. 14 16. Хэрэв $f(x)=\left\{\begin{array}{c}4 x-3, x \in[-1,1] \\ x^{2}, x \in[1,3]\end{array}\right.$ бол $\int_{-1}^{3} f(x) d x$ интегралыг бодоорой. A. $8 \frac{2}{3}$ B. $13 \frac{1}{3}$ C. $14 \frac{2}{3}$ D. $2 \frac{2}{3}$ E. $9 \frac{1}{3}$ ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-3.jpg?height=392&width=498&top_left_y=965&top_left_x=1387) 17. $O$ цэгт төвтэй тойргийн гадна орших $A$ цэгээс татсан хоёр шулуун тойргийг $D, B, E, C$ цэгүүдээр огтлоход $\overline{B C}=\frac{4 \pi}{5}$, $\overline{D E}=\frac{\pi}{5}$ байв. $A$ өнцгийн хэмжээг олоорой. A. $54^{\circ}$ B. $40^{\circ}$ C. $36^{\circ}$ D. $80^{\circ}$ E. $72^{\circ}$ ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-4.jpg?height=250&width=352&top_left_y=262&top_left_x=1416) 18. $3 \sin ^{2} x+\sin x \cos x=2$ тэгшитгэл $\left[0 ; \frac{3 \pi}{2}\right]$ завсарт хэдэн шийдтэй вэ? A. 4 B. 2 C. 1 D. 3 E. 5 19. $f(x)=\frac{1}{x-1} \quad$ функцийн $\quad x=2$ абсцисстай цэгт татсан нормал шулууны тэгшитгэлийг олоорой. A. $y=x-1$ B. $y=-x+3$ C. $y=-x-1$ D. $y=x+1$ E. $y=-x+1$ 20. $x^{2}+4 x+y^{2}+4 y+4=0$ тойргийн тэгшитгэл өгөгджээ. Тойргийн төв ба $\mathrm{A}(0,-1)$ цэгийг дайруулан шулуун татав. Уг шулуунтай параллель ба $(-1,1)$ цэгийг дайрсан шулууны тэгшитгэлийг бичээрэй. A. $2 x-3 y+5=0$ B. $2 x+y+1=0$ C. $x+2 y-1=0$ D. $x-2 y+3=0$ E. $3 x+2 y+1=0$ 21. Дараах нийлбэрийг тооцоолоорой. $ \sum_{k=1}^{2025}\left(k^{2}+1\right)-\sum_{k=5}^{2025}\left(k^{2}+1\right) $ A. 121 B. 30 C. 14 D. 101 E. 34 22. А ба В хотын хоорондох замын 0.6 хэсгийг I машин 9 цагт, харин II машин нийт замын $\frac{7}{12}$ хэсгийг 14 цагт явдаг бөгөөд тэдгээрийн хурдны зөрөө нь 27 км/ц бол хоёр хотын хоорондох зайг олоорой. A. 405 км B. 675 км C. 1728 км D. 1080 км Е. 648 км 23. $A(1,2,-3) ; B(-5,6,-5) ; C(10,-4,0) ; D(13,-6,1)$ цэгүүдийн хувьд $\overrightarrow{A B}$ ба $\overrightarrow{C D}$ векторуудын хоорондох өнцгийг олоорой. A. $180^{\circ}$ B. $90^{\circ}$ C. $45^{\circ}$ D. $0^{\circ}$ E. $\arccos \frac{1}{\sqrt{56}}$ 24. Шоо хаях туршилтын үр дүнг давтамжийн хүснэгтээр үзүүлжээ. Өгөгдлийн арифметик дундаж 3.72 бол $x$ - ийн утгыг олоорой. | Тоо | 1 | 2 | 3 | 4 | 5 | 6 | | :---: | :---: | :---: | :---: | :---: | :---: | :---: | | Давтамж | 4 | 4 | 2 | $x$ | 5 | 5 | A. 3 B. 7 C. 4 D. 6 E. 5 25. Зоосыг 3 удаа орхих туршилт хийв. Тоотой талаар тусах тоог X гэе. X санамсаргүй хувьсагчийн дисперсийг олоорой. A. $\frac{3}{4}$ B. $\frac{2}{3}$ C. 2 D. $1 \frac{1}{2}$ E. $\frac{1}{4}$ 26. 18 см ба 8 см сууриудтай адил хажуут трапецад дугуй багтав. Трапец дотроос санамсаргүйгээр сонгогдсон цэг, дугуйн дотроос сонгогдсон байх үзэгдлийн магадлалыг ол. A. $\frac{12}{13} \pi$ B. $\frac{3}{13} \pi$ C. $\frac{3}{26} \pi$ D. $\frac{6}{13} \pi$ E. $\frac{7}{26} \pi$ 27. Уутанд байгаа улаан ба цагаан шагайн тооны харьцаа $4: 9$ ба нийлээд 60 хүрэхгүй байв. Уутнаас 4 шагай авсны дараа энэ харьцаа 1:3 болов. Уутанд анх байсан шагайн тоог, одоо байгаа шагайн тоонд харьцуулсан харьцаа хэд вэ? A. 13: 11 B. 13:9 C. $13: 12$ D. $39: 35$ E. 26:15 28. $f(x)=x^{2}+3 x+\boldsymbol{c}$ олон гишүүнтийг $x+1, x+3, x-2$ олон гишүүнтүүдэд хуваахад гарах үлдэгдлүүд нь геометр прогрессын дараалсан гурван гишүүн болдог бол $c$ - ийн утгыг олоорой. A. $-1 \frac{1}{4}$ B. $2 \frac{1}{4}$ C. $1 \frac{1}{4}$ D. $2 \frac{1}{2}$ E. $-2 \frac{1}{2}$ ## Бодлого 29-36 тус бүр 3 оноотой. 29. 4,4,4,7,7 цифрүүдийг ашиглан 7 - ийн цифр зэрэгцэж ороогүй тоо хэдийг бичих боломжтой вэ? A. 19 B. 28 С. 6 D. 21 E. 23 30. $\left(z^{2}+z+a\right)^{4}$ задаргааны $z^{3}$ - ийг агуулсан гишүүний өмнөх коэффициент нь 96 байх бүх бодит а тоонуудын үржвэрийг олоорой. A. -8 B. -10 C. $2 \frac{2}{3}$ D. -3 E. $-\frac{1}{3}$ 31. Дараах зурагт $P Q R S$ тэгш өнцөгт дотор орших тойрог гурван талыг нь шүргэсэн байхаар өгөв. Хэрэв $P Q=6$ см, $Q R=12$ см бол $A B$ хөвчийн уртыг ол. ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-5.jpg?height=256&width=447&top_left_y=2015&top_left_x=533) A. $\frac{27 \sqrt{5}}{10} \mathrm{CM}$ B. $\frac{3 \sqrt{5}}{5} \mathrm{~cm}$ C. $\frac{3 \sqrt{5}}{10} \mathrm{~cm}$ D. $\frac{12 \sqrt{5}}{5} \mathrm{~cm}$ E. $3 \sqrt{5} \mathrm{~cm}$ 32. $A(3,3), B(m, n)$ цэгүүдийг $y=-x$ шулууны хувьд тэгш хэмтэй хувиргахад $A_{1}, B_{1}$ цэгүүд гарна. $A_{1}, B_{1}$ цэгүүдийг $\left(\begin{array}{cc}0 & 1 \\ -1 & 0\end{array}\right)$ матрицаар хувиргахад $A_{2}(p, q)$ ба $B_{2}(-5,-2)$ цэгүүд гарах бол $p+q+m+n$ нийлбэрийг олоорой. A. 1 B. -3 C. 7 D. -9 E. 3 33. $A B C$ гурвалжны $A$ оройгоос татсан биссектрисийн суурь нь $P$ ба $Q$ нь $A B$ талын дундаж цэг. Хэрэв $A B: A C=4: 3$ ба $\overrightarrow{A B}=\vec{b}, \overrightarrow{A C}=\vec{c}$ бол $\overrightarrow{P Q}$ векторыг $\vec{b}, \vec{c}$ векторуудаар илэрхийлээрэй. A. $\overrightarrow{P Q}=\frac{3}{7} \vec{b}-\frac{4}{7} \vec{c}$ B. $\overrightarrow{P Q}=-\frac{1}{14} \vec{b}-\frac{3}{7} \vec{c}$ C. $\overrightarrow{P Q}=\frac{7}{2} \vec{b}-4 \vec{c}$ D. $\overrightarrow{P Q}=\frac{1}{14} \vec{b}-\frac{4}{7} \vec{c}$ E. $\overrightarrow{P Q}=\frac{4}{7} \vec{b}-\frac{3}{7} \vec{c}$ 34. Халуун кофе анх $75^{\circ}$ байсан ба өрөөний температур $25^{\circ}$ байв. Кофе хөрөх хурд $\frac{d T}{d t}=-k\left(T-25^{\circ}\right)$ тэгшитгэлээр өгөгдөв. Хэрэв 10 минутын дараах температур нь $55^{\circ}$ болсон бол 20 минутын дараах температурыг олоорой. A. $43^{\circ}$ B. $33^{\circ}$ C. $23^{\circ}$ D. $25^{\circ}$ E. $35^{\circ}$ 35. $\left\{\begin{array}{c}a x+b y=3 \\ c x+d y=-3\end{array}\right.$ системийн матриц $A=\left(\begin{array}{ll}a & b \\ c & d\end{array}\right)$ ба түүний урвуу нь $\left(\begin{array}{cc}4 & -2 \\ 2 & 7\end{array}\right)$ бол $x-y$ ялгаврын утгыг олоорой. A. -3 B. 15 C. 33 D. 22 E. -26 36. $-4 \leq x \leq 2 \quad$ завсарт $y=x+4, \quad y=e^{x-0.5} \quad$ функцийн графикууд дээр харгалзан $A, B$ цэгүүдийг тэмдэглэн $A B$ хэрчмийг $O x$ тэнхлэгтэй параллель байхаар авчээ. $A B$ хэрчмийн уртын хамгийн их утгыг олоорой. A. $4.5-e$ B. 2.5 C. $5.5-e$ D. 3.5 E. $e$ ## Хоёрдугаар хэсэг. НӨХӨХ ДААЛГАВАР Санамж: Даалгавруудын хариултыг бөглөхдөө хариултын хуудасны 2-р хэсгийг бөглөх заавартай сайтар танилцаарай. Зургийг бодит хэмжээгээр өгөөгүй гэдгийг санаарай. ## Хоёрдугаар хэсгийн бодлого бүр 7 оноотой. 2.1. $y=f(x)$ квадрат функцийн график $O x$ тэнхлэгтэй $(-6,0),(14,0)$ цэгүүдээр харин $O y$ тэнхлэгтэй $(0,42)$ цэгээр огтлолцдог байв. $y=|f(x)|$ ба $y=k$ муруй дөрвөн ерөнхий цэгтэй байх $k$ - ийн бүх утгыг олъё. Өгсөн нөхцөлүүдийг ашиглан: (1) Квадрат функцийн томьёог олбол $ f(x)=-0 . a x^{2}+b x+c d \text { болно. } $ (2) Оройн цэгийн координатыг олбол $O(4, e f]$ (3) $|f(x)|=k$ тэгшитгэл ялгаатай дөрвөн шийдтэй байх $k$ - ийн утгууд нь $0<k<g h$ байна. 2.2. А тоглогчид $4,5,6,9$ ба В тоглогчид $2,3,7,8$ тоо бүхий 4 карттай хайрцгууд байв. Тэд өөр өөрийн хайрцагнаас санамсаргүйгээр нэг, нэг карт сугална. Аль их тоо сугалсан нь хожно. (1) А тоглогчийн хожих үзэгдлийн магадлал нь $\frac{\underline{b}}{\underline{a}}$ байна. (2) Сугалсан картаа буцаан хийж хоёр удаа тоглоход тус бүр нэг удаа хожих үзэгдлийн магадлал но $\frac{[c d]}{\boxed{32}}$ байна. (3) Харин сугалсан картаа буцааж хийхгүйгээр хоёр удаа тоглоход хоёуланд нь В тоглогч хожих үзэгдлийн магадлал нь $\frac{\underline{g}}{\underline{e f}}$ байна. 2.3. $y=\sqrt{7 x}$ ба $y=x$ тэгшитгэлээр муруйнууд өгөгдөв. Уг муруйнууд: (1) $x=0$ ба $x=a$ абсцисстай цэгүүдээр огтлолцоно. (2) $y=\sqrt{7 x}$ функц, уг функцийн $x=7$ абсцисстай цэгт татсан шүргэгч шулуун ба $O y$ тэнхлэгээр хүрээлэгдсэн дүрсийн талбайг олъё. $ \begin{aligned} & y=\sqrt{7 x} \text { функцийн } x=7 \text { абсцисстай цэгт татсан шүргэгч шулууны тэгшитгэл нь } \\ & y=\frac{1}{b} x+\frac{d}{[c} \end{aligned} \text { ба дүрсийн талбай } S=e \frac{1}{\sqrt{1 f}} \text { байна. } . $ (3) $y=\sqrt{7 x}, y=x$ функцүүдээр хашигдсан дүрсийг $O x$ тэнхлэгийг тойруулан эргүүлэхэд үүсэх биетийн эзлэхүүнийг олбол: $ V=5 g \frac{1}{h} \pi \text { болно. } $ 2.4. Хоёр ижил отлогдсон конусыг бага сууриар нь нийлүүлсэн биетийг зурагт үзүүлэв. Хэрэв энэ нийлмэл биетийн нийт өндөр нь 6 см, бага суурийн диаметр 30 см, их суурийн диаметр 40 см бол эзлэхүүнийг ол. ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-8.jpg?height=350&width=666&top_left_y=1564&top_left_x=428) ![](https://cdn.mathpix.com/cropped/2025_09_22_8f6f96e7ac5eae9abddcg-8.jpg?height=315&width=523&top_left_y=1613&top_left_x=1262) (1) Төсөөгийн харьцаа ашиглан жижиг конусын өндрийг олбол $\square$ см байна. (2) Өгсөн нөхцөлүүдийг ашиглан жижиг конусын эзлэхүүнийг олбол bcd $\pi$ см $^{3}$ болно. (3) Дээрхтэй адилаар том конусын эзлэхүүнийг олж нийлмэл биетийн эзлэхүүнийг тооцоолбол efgh $\pi \mathrm{cm}^{3}$ болно.`;

async function testAIExtraction() {
  console.log('🤖 Testing AI extraction on Mongolian exam...');

  try {
    const aiExtractor = new AIOnlyExtractor();
    const result = await aiExtractor.extractEverything(mongolianExamMarkdown);

    console.log('✅ AI Extraction Success!');
    console.log('📊 Results:');
    console.log(`- Total Questions: ${result.metadata.totalQuestions}`);
    console.log(`- Sections: ${result.content.sections.length}`);
    console.log(`- Language: ${result.metadata.language}`);
    console.log(`- Confidence: ${result.metadata.extractionConfidence}%`);

    // Show section details
    result.content.sections.forEach(section => {
      console.log(`\n📝 ${section.name}: ${section.questions.length} questions`);
      section.questions.slice(0, 3).forEach(q => {
        console.log(`   Q${q.id}: ${q.question.substring(0, 50)}...`);
      });
    });

    // Convert to legacy format
    const legacyFormat = aiExtractor.convertToLegacyFormat(result);
    console.log('\n🔄 Legacy Format:');
    console.log(`- Section1: ${legacyFormat.section1.length} questions`);
    console.log(`- Section2: ${legacyFormat.section2.length} questions`);

    return result;

  } catch (error) {
    console.error('❌ AI Extraction failed:', error.message);
    return null;
  }
}

// Run the test
testAIExtraction().then(result => {
  if (result) {
    console.log('\n🎯 AI extraction successful! Ready to save to Firebase.');
  } else {
    console.log('\n💥 AI extraction failed. Check the logs above.');
  }
});